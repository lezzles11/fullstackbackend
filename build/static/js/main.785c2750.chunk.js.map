{"version":3,"sources":["components/Filter.js","components/Person.js","components/Notification.js","components/PersonForm.js","components/services/persons.js","index.js"],"names":["Filter","_ref","newFilter","filterChangeHandler","react_default","a","createElement","value","onChange","Person","person","onClick","id","name","number","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","PersonForm","addPerson","newName","nameChangeHandler","newNumber","numberChangeHandler","onSubmit","type","services_persons","newObject","axios","post","then","response","data","put","concat","delete","baseUrl","rootElement","document","getElementById","ReactDOM","render","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","setMessage","useEffect","console","log","get","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","personObject","found","find","undefined","window","confirm","PersonService","returnedPerson","map","catch","error","setTimeout","update","filter","toLowerCase","includes","components_Person","key","returned","p","del"],"mappings":"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","file":"static/js/main.785c2750.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\n  const Filter = ({ newFilter, filterChangeHandler }) => {\n    return (\n        <p>filter shown with\n      <input value={newFilter} onChange={filterChangeHandler} />\n     </p>\n    )\n}\n\nexport default Filter\n","import React from \"react\";\n\nconst Person = ({ person, onClick }) => {\n  return (\n    <div>\n     <li id={person.id}> \n     {person.name}{\" \"}{person.number} {\" \"}\n     <button onClick={onClick}>Delete</button>\n    </li>\n    </div>\n  )\n}\n\n\nexport default Person;\n","import React from 'react'\n\nconst Notification = ({message}) => {\n    const style = {\n        color: \"green\",\nbackground: \"lightgrey\",\nfontSize: \"20px\",\nborderStyle: \"solid\",\nborderRadius: \"5px\",\npadding: \"10px\",\nmarginBottom: \"10px\"\n    }\n    if (message === null) {\n        return null\n    }\n    return (\n        <div style={style}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from \"react\";\n  const PersonForm = ({ addPerson, newName, nameChangeHandler, newNumber, numberChangeHandler}) => {\n    return (\n        <div> \n        <form onSubmit={addPerson}>\n        <p> Name: <input value={newName} onChange={nameChangeHandler} /></p>\n        <p> Number: <input value={newNumber} onChange={numberChangeHandler} /></p> \n        <div>\n          <button type=\"submit\">Add</button>\n        </div>\n      </form>\n      </div>\n    )\n}\nexport default PersonForm","import axios from 'axios'\nconst baseUrl = '/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\nconst del = id => {\n    const request = axios.delete(baseUrl + '/' + id)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, update, del}","import React, { useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Filter from './components/Filter'\nimport Person from './components/Person'\nimport Footer from './components/Footer'\nimport Notification from './components/Notification'\nimport PersonForm from './components/PersonForm'\nimport axios from 'axios'\nimport './components/styles/styles.css'\nimport PersonService from './components/services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [message, setMessage] = useState('')\n\n  useEffect(() => {\n    console.log('effect')\n    axios\n      .get('http://localhost:3001/persons')\n      .then(response => {\n        console.log('promise fulfilled')\n        setPersons(response.data)\n      })\n  }, [])\n\n  const del = person => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n    PersonService\n      .del(person.id)\n      .then(returned =>\n        setPersons(persons.filter(p => p.id !== person.id)))\n      .then(() => {\n        setMessage(`Deleted ${person.name} from phonebook!`)\n      })\n        .catch(error => {\n          setMessage(`Information of ${person.name} has already been removed from server`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    }}\n    \n  const update = (id, personObject) =>\n  PersonService\n    .update(id, personObject)\n    .then(returnedPerson => \n      setPersons(persons.map(person => person.id !== id \n        ? person\n        : returnedPerson)))\n    .then(() => \n      console.log('Replaced!')\n      )\n    .then(() => {\n      setMessage(`Updated ${personObject.name}'s number!`)\n    })\n    .catch(error => {\n      setMessage('removed')\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000) \n    })\n\n  const addPerson = event => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber \n      //id: persons.length + 1\n    };\n    const found = persons.find(person => person.name === newName)\n    if (found !== undefined) {\n        if (window.confirm(`${newName}'s is already added to phonebook, replace with a new one?`)) {\n          update(found.id, personObject)\n        }\n    } else {\n      setPersons(persons.concat(personObject));\n      PersonService\n      .create(personObject)\n      .then(response => {\n        console.log(response) })\n      .then(() => {\n        setMessage(`Added ${personObject.name}`)\n      })\n    }\n    setNewName(\"\");\n    setNewNumber(\"\")\n  };\n  const filterChangeHandler = event => {\n    console.log(event.target.value);\n    setNewFilter(event.target.value);\n  };\n  const nameChangeHandler = event => {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n  const numberChangeHandler = event => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n\n  const Rows = () =>\n  persons\n      .filter(person =>\n        person.name.toLowerCase().includes(newFilter.toLowerCase())\n      )\n      .map(person => <Person \n      key={person.id}\n      person={person} \n      onClick={() => del(person)}\n      />);\n  return (\n    <div>\n     <h1> Phonebook </h1>\n     <Notification message={message} />\n     <Filter newFilter={newFilter} filterChangeHandler={filterChangeHandler}/>\n      <h1> Add a New Contact </h1>\n      <PersonForm \n      addPerson={addPerson} \n      newName={newName} \n      nameChangeHandler={nameChangeHandler}\n      newNumber={newNumber}\n      numberChangeHandler={numberChangeHandler} />\n      <h1>Numbers </h1>\n      <div>{Rows()}</div>\n    </div>\n  );\n};\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);"],"sourceRoot":""}