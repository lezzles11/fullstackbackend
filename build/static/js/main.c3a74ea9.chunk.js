(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(3),o=t(0),r=t.n(o),c=t(13),l=t.n(c),u=function(e){var n=e.newFilter,t=e.filterChangeHandler;return r.a.createElement("p",null,"filter shown with",r.a.createElement("input",{value:n,onChange:t}))},i=function(e){var n=e.person,t=e.onClick;return r.a.createElement("div",null,r.a.createElement("li",{id:n.id},n.name," ",n.number," "," ",r.a.createElement("button",{onClick:t},"Delete")))},m=function(e){var n=e.message;return null===n?null:r.a.createElement("div",{style:{color:"green",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"}},n)},d=function(e){var n=e.addPerson,t=e.newName,a=e.nameChangeHandler,o=e.newNumber,c=e.numberChangeHandler;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:n},r.a.createElement("p",null," Name: ",r.a.createElement("input",{value:t,onChange:a})),r.a.createElement("p",null," Number: ",r.a.createElement("input",{value:o,onChange:c})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Add"))))},f=t(2),s=t.n(f),h=(t(37),"/api/persons"),p=function(e){return s.a.post(h,e).then(function(e){return e.data})},b=function(e,n){return s.a.put("".concat(h,"/").concat(e),n).then(function(e){return e.data})},g=function(e){return s.a.delete(h+"/"+e).then(function(e){return e.data})},v=document.getElementById("root");l.a.render(r.a.createElement(function(){var e=Object(o.useState)([]),n=Object(a.a)(e,2),t=n[0],c=n[1],l=Object(o.useState)(""),f=Object(a.a)(l,2),h=f[0],v=f[1],E=Object(o.useState)(""),w=Object(a.a)(E,2),C=w[0],j=w[1],O=Object(o.useState)(""),k=Object(a.a)(O,2),y=k[0],N=k[1],S=Object(o.useState)(""),H=Object(a.a)(S,2),x=H[0],D=H[1];Object(o.useEffect)(function(){console.log("effect"),s.a.get("http://localhost:3001/persons").then(function(e){console.log("promise fulfilled"),c(e.data)})},[]);return r.a.createElement("div",null,r.a.createElement("h1",null," Phonebook "),r.a.createElement(m,{message:x}),r.a.createElement(u,{newFilter:y,filterChangeHandler:function(e){console.log(e.target.value),N(e.target.value)}}),r.a.createElement("h1",null," Add a New Contact "),r.a.createElement(d,{addPerson:function(e){e.preventDefault();var n={name:h,number:C},a=t.find(function(e){return e.name===h});void 0!==a?window.confirm("".concat(h,"'s is already added to phonebook, replace with a new one?"))&&function(e,n){b(e,n).then(function(n){return c(t.map(function(t){return t.id!==e?t:n}))}).then(function(){return console.log("Replaced!")}).then(function(){D("Updated ".concat(n.name,"'s number!"))}).catch(function(e){D("removed"),setTimeout(function(){D(null)},5e3)})}(a.id,n):(c(t.concat(n)),p(n).then(function(e){console.log(e)}).then(function(){D("Added ".concat(n.name))})),v(""),j("")},newName:h,nameChangeHandler:function(e){console.log(e.target.value),v(e.target.value)},newNumber:C,numberChangeHandler:function(e){console.log(e.target.value),j(e.target.value)}}),r.a.createElement("h1",null,"Numbers "),r.a.createElement("div",null,t.filter(function(e){return e.name.toLowerCase().includes(y.toLowerCase())}).map(function(e){return r.a.createElement(i,{key:e.id,person:e,onClick:function(){return function(e){window.confirm("Delete ".concat(e.name,"?"))&&g(e.id).then(function(n){return c(t.filter(function(n){return n.id!==e.id}))}).then(function(){D("Deleted ".concat(e.name," from phonebook!"))}).catch(function(n){D("Information of ".concat(e.name," has already been removed from server")),setTimeout(function(){D(null)},5e3)})}(e)}})})))},null),v)}},[[14,1,2]]]);
//# sourceMappingURL=main.c3a74ea9.chunk.js.map